<dom-module id="lrnapp-studio-submission-page">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <iron-ajax
       auto
       url="[[reqUrl]]"
       method="GET"
       body="[[reqBody]]"
       params="[[reqParams]]"
       content-type="application/json"
       handle-as="json"></iron-ajax>

       Submission Page: {{id}}

  </template>
  <script>
    Polymer({
      is: 'lrnapp-studio-submission-page',
      properties: {
        reqUrl: {
          type: String
        },
        reqParams: {
          type: Object
        },
        reqBody: {
          type: Object
        }
      },
      observers: [
        '_urlVarsChanged(id, endPoint)',
        '_paramsChanged(csrfToken)',
        '_bodyChanged(title)'
      ],
      _urlVarsChanged: function(id, endPoint) {
        this.reqUrl = endPoint + '/api/submissions/' + id;
      },
      _paramsChanged: function(csrfToken) {
        var params = this.reqParams || {};
        params.token = csrfToken;
        this.reqParams = params;
      }
    });
  </script>
</dom-module>