<html><head><script src="../ace-builds/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script><script src="../ace-builds/src-min-noconflict/ext-searchbox.js" type="text/javascript" charset="utf-8"></script><template id="juicy-ace-editor"><style>:host{display:flex;min-height:1em;flex-direction:column;}#juicy-ace-editor-container{flex:1;height:100%;}</style><div id="juicy-ace-editor-container"></div></template><script>(function(window,document){var thisDoc=(document._currentScript||document.currentScript).ownerDocument,template=thisDoc.querySelector("template#juicy-ace-editor").content;if(window.ShadowDOMPolyfill){WebComponents.ShadowCSS.shimStyling(template,"juicy-ace-editor")}var TomalecAceEditor=function(_HTMLElement){babelHelpers.inherits(TomalecAceEditor,_HTMLElement);babelHelpers.createClass(TomalecAceEditor,[{key:"value",get:function get(){return this.editor&&this.editor.getValue()||this.textContent},set:function set(val){if(this.editor){this.editor.setValue(val)}else{this.textContent=val}}}],[{key:"observedAttributes",get:function get(){return["theme","mode","fontsize","softtabs","tabsize","readonly","wrapmode"]}}]);function TomalecAceEditor(self){var _this;babelHelpers.classCallCheck(this,TomalecAceEditor);self=_this=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(TomalecAceEditor).call(this,self));var shadowRoot;if(self.attachShadow&&self.getRootNode){shadowRoot=self.attachShadow({mode:"open"})}else{shadowRoot=self.createShadowRoot()}var clone=document.importNode(template,!0);self.container=clone.querySelector("#juicy-ace-editor-container");shadowRoot.appendChild(clone);return babelHelpers.possibleConstructorReturn(_this,self)}babelHelpers.createClass(TomalecAceEditor,[{key:"connectedCallback",value:function connectedCallback(){var text=this.childNodes[0],container=this.container,element=this,editor;if(this.editor){editor=this.editor}else{container.textContent=this.value;editor=ace.edit(container);this.dispatchEvent(new CustomEvent("editor-ready",{bubbles:!0,composed:!0,detail:editor}));this.editor=editor;this.injectTheme("#ace_editor\\.css");this.injectTheme("#ace-tm");this.injectTheme("#ace_searchbox");editor.getSession().on("change",function(event){element.dispatchEvent(new CustomEvent("change",{bubbles:!0,composed:!0,detail:event}))})}editor.renderer.addEventListener("themeLoaded",this.onThemeLoaded.bind(this));editor.setTheme(this.getAttribute("theme"));editor.setFontSize(parseInt(this.getAttribute("fontsize"))||12);editor.setReadOnly(this.hasAttribute("readonly"));var session=editor.getSession();session.setMode(this.getAttribute("mode"));session.setUseSoftTabs(this.getAttribute("softtabs"));this.getAttribute("tabsize")&&session.setTabSize(this.getAttribute("tabsize"));session.setUseWrapMode(this.hasAttribute("wrapmode"));var observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){if("characterData"==mutation.type){element.value=text.data}})});text&&observer.observe(text,{characterData:!0});this._attached=!0}},{key:"disconnectedCallback",value:function disconnectedCallback(){this._attached=!1}},{key:"attributeChangedCallback",value:function attributeChangedCallback(attr,oldVal,newVal){if(!this._attached){return!1}switch(attr){case"theme":this.editor.setTheme(newVal);break;case"mode":this.editor.getSession().setMode(newVal);break;case"fontsize":this.editor.setFontSize(newVal);break;case"softtabs":this.editor.getSession().setUseSoftTabs(newVal);break;case"tabsize":this.editor.getSession().setTabSize(newVal);break;case"readonly":this.editor.setReadOnly(""===newVal||newVal);break;case"wrapmode":this.editor.getSession().setUseWrapMode(null!==newVal);break;}}},{key:"onThemeLoaded",value:function onThemeLoaded(e){var themeId="#"+e.theme.cssClass;this.injectTheme(themeId);this.container.style.display="none";this.container.offsetHeight;this.container.style.display=""}},{key:"injectTheme",value:function injectTheme(themeId){var n=document.querySelector(themeId);this.shadowRoot.appendChild(cloneStyle(n))}}]);return TomalecAceEditor}(babelHelpers.wrapNativeSuper(HTMLElement));function cloneStyle(style){var s=document.createElement("style");s.id=style.id;s.textContent=style.textContent;return s}window.customElements.define("juicy-ace-editor",TomalecAceEditor)})(window,document);</script></head><body></body></html>