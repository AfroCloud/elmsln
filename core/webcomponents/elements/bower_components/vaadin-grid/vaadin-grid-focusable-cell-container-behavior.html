<html><head><script>window.vaadin=window.vaadin||{};vaadin.elements=vaadin.elements||{};vaadin.elements.grid=vaadin.elements.grid||{};vaadin.elements.grid.FocusableCellContainerBehavior={properties:{focused:{type:Boolean,reflectToAttribute:!0},_focusedRow:Object,_focusedRowIndex:Number,_focusedCell:Object,_focusedCellIndex:Number,_lastFocusedCell:Object},observers:["_announceFocusedCell(_focusedCell, focused)","_dispatchEvents(_focusedCell, focused)","_focusedCellChanged(_focusedRowIndex, _focusedCellIndex)"],_announceFocusedCell:function _announceFocusedCell(cell,focused){if(cell===void 0||focused===void 0){return}if(!this.domHost.navigating||!focused){return}var activeTarget=Polymer.Element?cell._cellContent.getAttribute("slot"):cell._cellContent.id;if("vaadin-grid-table-body"===this.is&&!cell.hasAttribute("detailscell")){var index=Array.prototype.indexOf.call(Polymer.dom(cell.parentElement).querySelectorAll(".vaadin-grid-cell"),cell),lastHeaderRow=this.domHost.$.header.lastElementChild,headerCell=lastHeaderRow.children[index];activeTarget=headerCell._cellContent.id+" "+activeTarget}this.domHost.$.footerFocusTrap.activeTarget=activeTarget},_dispatchEvents:function _dispatchEvents(cell,focused){if(cell===void 0||focused===void 0){return}if(this._lastFocusedCell){this._lastFocusedCell._cellContent.dispatchEvent(new CustomEvent("cell-focusout"));this._lastFocusedCell=void 0}if(focused){cell._cellContent.dispatchEvent(new CustomEvent("cell-focusin"));this._lastFocusedCell=cell}},_focusedCellChanged:function _focusedCellChanged(rowIndex,cellIndex){if(rowIndex===void 0||cellIndex===void 0){return}Array.prototype.forEach.call(Polymer.dom(this).children,function(row,i){row.focused=i===rowIndex;if(row.focused){this._focusedRow=row;this._focusedCellIndex=Math.min(cellIndex,row.children.length-1);this._focusedCell=row.children[this._focusedCellIndex]}row.cells.forEach(function(cell,j){cell.focused=j===this._focusedCellIndex}.bind(this))}.bind(this))},focusLeft:function focusLeft(){if(this._focusedCell.hasAttribute("detailscell")){return}var visibleCells=this._visibleCellIndexes();if(0<visibleCells.length){var current=visibleCells.indexOf(this._focusedCellIndex);this._focusedCellIndex=visibleCells[Math.max(0,current-1)]}},focusDown:function focusDown(){this._focusedRowIndex=Math.min(this._focusedRowIndex+1,this.children.length-1)},_visibleCellIndexes:function _visibleCellIndexes(){var indexes=[];if(this._focusedRow&&this._focusedRow.children){for(var children=this._focusedRow.children,i=0;i<children.length;i++){if(!children[i].hidden&&children[i]!==this._focusedRow._rowDetailsCell){indexes.push(i)}}indexes.sort(function(i1,i2){return children[i1].column._order<children[i2].column._order?-1:1})}return indexes},focusPageDown:function focusPageDown(){this._focusedRowIndex=Math.min(this._focusedRowIndex+10,this.children.length-1)},focusPageUp:function focusPageUp(){this._focusedRowIndex=Math.max(0,this._focusedRowIndex-10)},focusRight:function focusRight(){if(this._focusedCell.hasAttribute("detailscell")){return}var visibleCells=this._visibleCellIndexes();if(0<visibleCells.length){var current=visibleCells.indexOf(this._focusedCellIndex);this._focusedCellIndex=visibleCells[Math.min(current+1,visibleCells.length-1)]}},focusUp:function focusUp(){this._focusedRowIndex=Math.max(0,this._focusedRowIndex-1)},focusHome:function focusHome(){if(this._focusedCell.hasAttribute("detailscell")){return}var visibleCells=this._visibleCellIndexes();if(0<visibleCells.length){this._focusedCellIndex=visibleCells[0]}},focusEnd:function focusEnd(){if(this._focusedCell.hasAttribute("detailscell")){return}var visibleCells=this._visibleCellIndexes();if(0<visibleCells.length){this._focusedCellIndex=visibleCells[visibleCells.length-1]}},focusFirst:function focusFirst(){this._focusedRowIndex=0;this.focusHome()},focusLast:function focusLast(){this._focusedRowIndex=this.children.length-1;this.focusEnd()}};</script></head><body></body></html>