<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-flex-layout/iron-flex-layout-classes.html"><link rel="import" href="../app-localize-behavior/app-localize-behavior.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="../iron-ajax/iron-ajax.html"><link rel="prefetch" href="../iron-ajax/iron-request.html"><link rel="prefetch" href="../intl-messageformat/dist/intl-messageformat.min.js"><link rel="prefetch" href="../iron-form-element-behavior/iron-form-element-behavior.html"><link rel="prefetch" href="../iron-input/iron-input.html"><link rel="prefetch" href="../iron-a11y-announcer/iron-a11y-announcer.html"><link rel="prefetch" href="../iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../iron-meta/iron-meta.html"><link rel="prefetch" href="../paper-input/paper-input-behavior.html"><link rel="prefetch" href="../iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-control-state.html"><link rel="prefetch" href="../paper-input/paper-input-char-counter.html"><link rel="prefetch" href="../font-roboto/roboto.html"><link rel="prefetch" href="../paper-input/paper-input-addon-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-container.html"><link rel="prefetch" href="../iron-flex-layout/iron-flex-layout.html"><link rel="prefetch" href="../paper-styles/default-theme.html"><link rel="prefetch" href="../paper-styles/color.html"><link rel="prefetch" href="../paper-input/paper-input-error.html"></head><body><dom-module id="eco-json-schema-input"><link rel="import" href="../paper-input/paper-input.html"><link rel="import" href="../paper-styles/typography.html"><template><style is="custom-style" include="iron-flex iron-flex-alignment">paper-input{padding:2px;--paper-input-container-label:{white-space:normal;position:static;font-size:16px;color:#212121;};}</style><paper-input id="input" class="flex" value="{{value}}" auto-validate=""></paper-input></template><script>Polymer({is:"eco-json-schema-input",behaviors:[Polymer.AppLocalizeBehavior],properties:{language:{value:"en"},resources:{value:function value(){return{}}},schema:{type:Object,observer:"_schemaChanged"},value:{type:String,notify:!0,value:function value(){return""}},error:{type:String,observer:"_errorChanged",value:null}},ready:function ready(){},detached:function detached(){},_schemaChanged:function _schemaChanged(){var schema=this.schema,inputEl=this.$.input;if(schema.required){inputEl.required=!0}if(this._isSchemaNumber(schema.type)){inputEl.type="number";if(schema.multipleOf){inputEl.step=schema.multipleOf}if(!isNaN(schema.maximum)){if(schema.exclusiveMaximum){inputEl.max=schema.maximum-(schema.multipleOf||1)}else{inputEl.max=schema.maximum}}if(!isNaN(schema.minimum)){if(schema.exclusiveMinimum){inputEl.min=schema.minimum+(schema.multipleOf||1)}else{inputEl.min=schema.minimum}}}if(this._isSchemaString(schema.type)){if("date-time"===schema.format){inputEl.type="datetime-local";inputEl.alwaysFloatLabel=!0}else if("date"===schema.format){inputEl.type="date"}else if("email"===schema.format){inputEl.type="email"}else if("hostname"===schema.format){inputEl.type="text"}else if("ipv4"===schema.format){inputEl.type="text"}else if("ipv6"===schema.format){inputEl.type="text"}else if("uri"===schema.format){inputEl.type="url"}else{inputEl.type="text"}if(schema.maxLength){inputEl.maxlength=schema.maxLength}if(schema.minLength){inputEl.minlength=schema.minLength}if(schema.pattern){inputEl.pattern=schema.pattern}}if(schema.component&&schema.component.properties){Object.keys(schema.component.properties).forEach(function(prop){inputEl[prop]=schema.component.properties[prop]})}inputEl.alwaysFloatLabel=!0;if(schema.title){inputEl.label=schema.title}},_errorChanged:function _errorChanged(){if(this.error){this.$.input.errorMessage=this.error;this.$.input.invalid=!0}else{this.$.input.invalid=!1;this.$.input.errorMessage=null}},_isSchemaValue:function _isSchemaValue(type){return this._isSchemaBoolean(type)||this._isSchemaNumber(type)||this._isSchemaString(type)},_isSchemaBoolean:function _isSchemaBoolean(type){if(Array.isArray(type)){return-1!==type.indexOf("boolean")}else{return"boolean"===type}},_isSchemaNumber:function _isSchemaNumber(type){if(Array.isArray(type)){return-1!==type.indexOf("number")||-1!==type.indexOf("integer")}else{return"number"===type||"integer"===type}},_isSchemaString:function _isSchemaString(type){if(Array.isArray(type)){return-1!==type.indexOf("string")}else{return"string"===type}},_isSchemaObject:function _isSchemaObject(type){return"object"===type},_isSchemaArray:function _isSchemaArray(type){return"array"===type}});</script></dom-module></body></html>