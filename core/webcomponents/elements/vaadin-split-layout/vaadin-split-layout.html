<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-resizable-behavior/iron-resizable-behavior.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"></head><body><dom-module id="vaadin-split-layout"><template><style>:host{display:flex;overflow:hidden !important;transform:translateZ(0);}:host([vertical]){flex-direction:column;}:host ::slotted(*){flex:1 1 auto;overflow:auto;}:host > #splitter{flex:none;position:relative;z-index:1;overflow:visible;min-width:8px;min-height:8px;background:var(--divider-color, #ccc);fill:var(--primary-background-color, #fff);@apply --vaadin-split-layout-splitter;}:host(:not([vertical])) > #splitter{cursor:ew-resize;}:host([vertical]) > #splitter{cursor:ns-resize;}#handle,
      #splitter ::slotted([slot=handle]){position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);}:host([vertical]) > #splitter #handle{transform:translate(-50%, -50%) rotate(90deg);}</style><slot id="primary" name="primary"></slot><div id="splitter" on-track="_onHandleTrack" on-down="_preventDefault"><slot name="handle"><svg id="handle" width="40" height="40"><rect x="19" y="8" width="2" height="24"></rect></svg></slot></div><slot id="secondary" name="secondary"></slot></template><script>Polymer({is:"vaadin-split-layout",behaviors:[Polymer.IronResizableBehavior],properties:{vertical:{type:Boolean,reflectToAttribute:!0,value:!1},_previousPrimaryPointerEvents:String,_previousSecondaryPointerEvents:String},attached:function attached(){this._observer=Polymer.dom(this).observeNodes(this._processChildren)},detached:function detached(){Polymer.dom(this).unobserveNodes(this._observer)},_processChildren:function _processChildren(){var children=this.getEffectiveChildren();children.filter(function(child){if(child.classList.contains("splitter-handle")){Polymer.dom(child).setAttribute("slot","handle");return!1}return!0}).forEach(function(child,i){if(0===i){this._primaryChild=child;Polymer.dom(child).setAttribute("slot","primary")}else if(1==i){this._secondaryChild=child;Polymer.dom(child).setAttribute("slot","secondary")}else{Polymer.dom(child).removeAttribute("slot")}}.bind(this))},_setFlexBasis:function _setFlexBasis(element,flexBasis,containerSize){flexBasis=Math.max(0,Math.min(flexBasis,containerSize));if(0===flexBasis){flexBasis=1e-6}element.style.flex="1 1 "+flexBasis+"px"},_onHandleTrack:function _onHandleTrack(event){if(!this._primaryChild||!this._secondaryChild){return}var size=this.vertical?"height":"width";if("start"===event.detail.state){this._startSize={container:this.getBoundingClientRect()[size]-this.$.splitter.getBoundingClientRect()[size],primary:this._primaryChild.getBoundingClientRect()[size],secondary:this._secondaryChild.getBoundingClientRect()[size]};this._previousPrimaryPointerEvents=this._primaryChild.style.pointerEvents;this._previousSecondaryPointerEvents=this._secondaryChild.style.pointerEvents;this._primaryChild.style.pointerEvents="none";this._secondaryChild.style.pointerEvents="none";return}var distance=this.vertical?event.detail.dy:event.detail.dx;this._setFlexBasis(this._primaryChild,this._startSize.primary+distance,this._startSize.container);this._setFlexBasis(this._secondaryChild,this._startSize.secondary-distance,this._startSize.container);this.notifyResize();if("end"===event.detail.state){delete this._startSize;this._primaryChild.style.pointerEvents=this._previousPrimaryPointerEvents;this._secondaryChild.style.pointerEvents=this._previousSecondaryPointerEvents}},_preventDefault:function _preventDefault(event){event.preventDefault()}});</script></dom-module></body></html>