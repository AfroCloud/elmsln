<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../hax-body-behaviors/hax-body-behaviors.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"></head><body><dom-module id="lrn-math"><template><style>:host{display:inline;}</style>[[prefix]] [[math]] [[suffix]] <span hidden=""><slot id="content"></slot></span></template><script>Polymer({is:"lrn-math",behaviors:[HAXBehaviors.PropertiesBehaviors],properties:{prefix:{type:String,value:"$$"},suffix:{type:String,value:"$$"},inline:{type:Boolean,value:!0,reflectToAttribute:!0},math:{type:String},mathText:{type:String,observer:"_mathChanged"}},observers:["_inlineChanged(inline)"],_inlineChanged:function _inlineChanged(inline){if(inline){this.prefix="\\(";this.suffix="\\)"}},_mathChanged:function _mathChanged(newValue,oldValue){if(newValue!==oldValue){while(null!==Polymer.dom(this).firstChild){Polymer.dom(this).removeChild(Polymer.dom(this).firstChild)}var frag=document.createTextNode(newValue);Polymer.dom(this).appendChild(frag)}},attached:function attached(){this.setHaxProperties({canScale:!0,canPosition:!0,canEditSource:!0,gizmo:{title:"Math",description:"Present math in a nice looking way.",icon:"places:all-inclusive",color:"grey",groups:["Content"],handles:[{type:"math",math:"mathText"},{type:"inline",text:"mathText"}],meta:{author:"LRNWebComponents"}},settings:{quick:[{property:"inline",title:"Inline",description:"Display this math inline",inputMethod:"boolean",icon:"remove"}],configure:[{property:"mathText",title:"Math",description:"Math",inputMethod:"textfield",icon:"editor:format-quote"},{property:"inline",title:"Inline",description:"Display this math inline",inputMethod:"boolean",icon:"remove"}],advanced:[]}})},ready:function ready(){var _this=this;if(babelHelpers.typeof(window.__mathJaxLoaded)==="undefined"){var mathjaxCDN=document.createElement("script");mathjaxCDN.src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML";document.body.appendChild(mathjaxCDN);window.__mathJaxLoaded=!0}this._observer=Polymer.dom(this.$.content).observeNodes(function(info){_this.math=info.addedNodes.map(function(node){return node.textContent}).toString();setTimeout(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub])},100)})}});</script></dom-module></body></html>