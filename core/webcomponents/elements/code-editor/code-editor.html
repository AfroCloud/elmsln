<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../materializecss-styles/materializecss-styles.html"><link rel="import" href="../hax-body-behaviors/hax-body-behaviors.html"><link rel="import" href="../schema-behaviors/schema-behaviors.html"><link rel="import" href="../juicy-ace-editor/juicy-ace-editor.html"><link rel="import" href="code-pen-button.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="../materializecss-styles/colors.html"><link rel="prefetch" href="../materializecss-styles/shapes.html"><link rel="prefetch" href="../ace-builds/src-min-noconflict/ace.js"><link rel="prefetch" href="../ace-builds/src-min-noconflict/ext-searchbox.js"></head><body><dom-module id="code-editor"><template><style>:host{display:block;padding:16px;--code-pen-button-color:#222222;--code-pen-title-color:#222222;}.code-pen-container{width:100%;display:block;background-color:var(--code-pen-button-color);height:40px;}code-pen-button{float:right;height:40px;}h3{color:var(--code-pen-title-color);}</style><h3>[[title]]</h3><juicy-ace-editor id="codeeditor" theme$="[[theme]]" mode$="[[mode]]" font-size$="[[fontSize]]" readonly$="[[readOnly]]"></juicy-ace-editor><div class="code-pen-container" hidden$="[[!showCodePen]]"><code-pen-button data="[[codePenData]]"></code-pen-button></div></template><script>Polymer({is:"code-editor",behaviors:[HAXBehaviors.PropertiesBehaviors,MaterializeCSSBehaviors.ColorBehaviors,SchemaBehaviors.Schema],listeners:{"codeeditor.change":"_editorDataChanged","codeeditor.editor-ready":"_editorReady"},properties:{title:{type:String,value:"Code sample"},showCodePen:{type:Boolean,value:!1,reflectToAttribute:!0},readOnly:{type:Boolean,value:!0,reflectToAttribute:!0},codePenData:{type:Object,computed:"_computeCodePenData(title, editorValue)"},editorValue:{type:String,value:"",notify:!0},theme:{type:String,value:"ace/theme/monokai"},mode:{type:String,value:"ace/mode/html"},fontSize:{type:String,value:"16px"},minLines:{type:Number,value:10},maxLines:{type:Number,value:25}},_computeCodePenData:function _computeCodePenData(title,editorValue){return{title:title,html:editorValue}},_editorReady:function _editorReady(){var _this=this;this.__editorReady=!0;setTimeout(function(){_this.$.codeeditor.editor.setOptions({maxLines:_this.maxLines,minLines:_this.minLines});_this.updateEditorValue()},200)},_editorDataChanged:function _editorDataChanged(){this.editorValue=this.$.codeeditor.value},updateEditorValue:function updateEditorValue(){var children=this.queryEffectiveChildren("template");if(!children){console.warn("code-editor requires a template to be provided in light-dom")}else{this.$.codeeditor.value=children.innerHTML}},ready:function ready(){this._observer=Polymer.dom(this).observeNodes(function(info){var _this2=this;if(0<info.addedNodes.length){info.addedNodes.map(function(){_this2.updateEditorValue()})}if(0<info.removedNodes.length){info.removedNodes.map(function(){_this2.updateEditorValue()})}})},attached:function attached(){this.setHaxProperties({canScale:!0,canPosition:!0,canEditSource:!1,gizmo:{title:"Code editor",description:"Edit code in the browser with minor HTML validation",icon:"icons:code",color:"blue",groups:["Code","Development"],handles:[{type:"code",code:"contents"}],meta:{author:"LRNWebComponents"}},settings:{quick:[{property:"title",title:"Title",description:"The title of the element",inputMethod:"textfield",icon:"editor:title"},{property:"showCodePen",title:"Code pen button",description:"Play with this on code pen",inputMethod:"boolean",icon:"icons:code"}],configure:[{property:"title",title:"Title",description:"The title of the element",inputMethod:"textfield",icon:"editor:title"},{property:"showCodePen",title:"Code pen button",description:"Play with this on code pen",inputMethod:"boolean",icon:"icons:code"},{slot:"",title:"Code",description:"The code to present to the user",inputMethod:"code-editor",icon:"editor:title"}],advanced:[]}})}});</script></dom-module></body></html>