<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../md-extra-icons/md-extra-icons.html"><link rel="import" href="../app-layout/app-toolbar/app-toolbar.html"><link rel="import" href="../paper-item/paper-item.html"><link rel="import" href="../materializecss-styles/colors.html"><link rel="import" href="../iron-icons/iron-icons.html"><link rel="import" href="hax-context-item-menu.html"><link rel="import" href="hax-context-item.html"><link rel="import" href="hax-context-item-textop.html"><link rel="import" href="hax-toolbar.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="../iron-icon/iron-icon.html"><link rel="prefetch" href="../iron-meta/iron-meta.html"><link rel="prefetch" href="../iron-flex-layout/iron-flex-layout.html"><link rel="prefetch" href="../iron-iconset-svg/iron-iconset-svg.html"><link rel="prefetch" href="../paper-item/paper-item-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-button-state.html"><link rel="prefetch" href="../iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../iron-behaviors/iron-control-state.html"><link rel="prefetch" href="../paper-item/paper-item-shared-styles.html"><link rel="prefetch" href="../paper-styles/color.html"><link rel="prefetch" href="../paper-styles/default-theme.html"><link rel="prefetch" href="../paper-styles/typography.html"><link rel="prefetch" href="../font-roboto/roboto.html"><link rel="prefetch" href="../paper-tooltip/paper-tooltip.html"><link rel="prefetch" href="../neon-animation/web-animations.html"><link rel="prefetch" href="../web-animations-js/web-animations-next-lite.min.js"><link rel="prefetch" href="hax-toolbar-menu.html"><link rel="prefetch" href="../iron-icons/editor-icons.html"><link rel="prefetch" href="../iron-icons/device-icons.html"><link rel="prefetch" href="../iron-icons/hardware-icons.html"><link rel="prefetch" href="../iron-icons/social-icons.html"><link rel="prefetch" href="../iron-icons/av-icons.html"><link rel="prefetch" href="../iron-icons/maps-icons.html"><link rel="prefetch" href="../paper-listbox/paper-listbox.html"><link rel="prefetch" href="../iron-menu-behavior/iron-menu-behavior.html"><link rel="prefetch" href="../iron-selector/iron-multi-selectable.html"><link rel="prefetch" href="../iron-selector/iron-selectable.html"><link rel="prefetch" href="../iron-selector/iron-selection.html"><link rel="prefetch" href="../paper-menu-button/paper-menu-button.html"><link rel="prefetch" href="../iron-dropdown/iron-dropdown.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-behavior.html"><link rel="prefetch" href="../iron-fit-behavior/iron-fit-behavior.html"><link rel="prefetch" href="../iron-resizable-behavior/iron-resizable-behavior.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-manager.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-overlay-backdrop.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-scroll-manager.html"><link rel="prefetch" href="../iron-overlay-behavior/iron-focusables-helper.html"><link rel="prefetch" href="../neon-animation/neon-animation-runner-behavior.html"><link rel="prefetch" href="../neon-animation/neon-animatable-behavior.html"><link rel="prefetch" href="../iron-dropdown/iron-dropdown-scroll-manager.html"><link rel="prefetch" href="../neon-animation/animations/fade-in-animation.html"><link rel="prefetch" href="../neon-animation/neon-animation-behavior.html"><link rel="prefetch" href="../neon-animation/animations/fade-out-animation.html"><link rel="prefetch" href="../paper-styles/shadow.html"><link rel="prefetch" href="../paper-menu-button/paper-menu-button-animations.html"><link rel="prefetch" href="../paper-icon-button/paper-icon-button.html"><link rel="prefetch" href="../paper-behaviors/paper-inky-focus-behavior.html"><link rel="prefetch" href="../paper-behaviors/paper-ripple-behavior.html"><link rel="prefetch" href="../paper-ripple/paper-ripple.html"><link rel="prefetch" href="hax-toolbar-item.html"><link rel="prefetch" href="../paper-button/paper-button.html"><link rel="prefetch" href="../paper-behaviors/paper-button-behavior.html"><link rel="prefetch" href="../paper-styles/element-styles/paper-material-styles.html"><link rel="prefetch" href="../iron-icons/image-icons.html"><link rel="prefetch" href="../iron-a11y-keys/iron-a11y-keys.html"><link rel="prefetch" href="../paper-slider/paper-slider.html"><link rel="prefetch" href="../iron-form-element-behavior/iron-form-element-behavior.html"><link rel="prefetch" href="../iron-range-behavior/iron-range-behavior.html"><link rel="prefetch" href="../paper-input/paper-input.html"><link rel="prefetch" href="../iron-input/iron-input.html"><link rel="prefetch" href="../iron-a11y-announcer/iron-a11y-announcer.html"><link rel="prefetch" href="../iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-char-counter.html"><link rel="prefetch" href="../paper-input/paper-input-addon-behavior.html"><link rel="prefetch" href="../paper-input/paper-input-container.html"><link rel="prefetch" href="../paper-input/paper-input-error.html"><link rel="prefetch" href="../paper-progress/paper-progress.html"><link rel="prefetch" href="../simple-colors/simple-colors.html"><link rel="prefetch" href="../simple-colors/simple-colors-utility.html"></head><body><dom-module id="hax-text-context"><template><style include="materializecss-styles-colors">:host{display:block;pointer-events:none;background-color:white;}paper-item{-webkit-justify-content:flex-start;justify-content:flex-start;height:32px;padding:0 8px;min-height:32px;}paper-item:hover{background-color:#d3d3d3;cursor:pointer;}iron-icon{padding:8px;}paper-item strong{padding:8px;font-size:12px;}:host.hax-context-pin-top hax-toolbar{position:fixed;top:64px;opacity:.95;}:host.hax-context-pin-bottom hax-toolbar{position:fixed;bottom:0;opacity:.95;}</style><hax-toolbar selected="[[selection]]" hide-transform=""><hax-context-item-menu corner="left" slot="primary" selected-value="{{selectedValue}}" id="formatsize" icon="text-format" label="Format" event-name="text-tag"><paper-item value="p"><iron-icon icon="editor:format-textdirection-l-to-r"></iron-icon>Normal text <strong>&lt;P&gt;</strong></paper-item><paper-item value="h2"><iron-icon icon="editor:title"></iron-icon>Title <strong>&lt;H2&gt;</strong></paper-item><paper-item value="h3"><iron-icon icon="editor:title"></iron-icon>Content heading <strong>&lt;H3&gt;</strong></paper-item><paper-item value="h4"><iron-icon icon="editor:text-fields"></iron-icon>Subheading <strong>&lt;H4&gt;</strong></paper-item><paper-item value="h5"><iron-icon icon="editor:text-fields"></iron-icon>Deeper subheading <strong>&lt;H5&gt;</strong></paper-item><paper-item value="blockquote"><iron-icon icon="editor:format-quote"></iron-icon>Quote<strong>&lt;blockquote&gt;</strong></paper-item><paper-item value="code"><iron-icon icon="icons:code"></iron-icon>Code block<strong>&lt;code&gt;</strong></paper-item></hax-context-item-menu><hax-context-item-textop slot="primary" icon="editor:format-bold" label="Bold" event-name="text-bold"></hax-context-item-textop><hax-context-item-textop slot="primary" icon="editor:format-italic" label="Italic" event-name="text-italic"></hax-context-item-textop><hax-context-item-textop slot="primary" icon="editor:insert-link" label="Link" event-name="text-link"></hax-context-item-textop><hax-context-item-menu slot="primary" selected-value="{{justifyValue}}" id="justify" icon="[[justifyIcon]]" label="Alignment"><paper-item value="" hidden=""></paper-item><paper-item value="text-align-left"><iron-icon icon="editor:format-align-left"></iron-icon></paper-item><paper-item value="text-align-right"><iron-icon icon="editor:format-align-right"></iron-icon></paper-item></hax-context-item-menu><hax-context-item-textop slot="primary" icon="editor:format-list-numbered" label="Numbered list" event-name="text-list-numbered" hidden$="[[!polyfillSafe]]"></hax-context-item-textop><hax-context-item-textop slot="primary" icon="editor:format-list-bulleted" label="Bulleted list" event-name="text-list-bulleted" hidden$="[[!polyfillSafe]]"></hax-context-item-textop><hax-context-item-textop slot="primary" icon="editor:format-indent-increase" label="Indent" event-name="text-indent" hidden$="[[!polyfillSafe]]"></hax-context-item-textop><hax-context-item-textop slot="primary" icon="editor:format-indent-decrease" label="Outdent" event-name="text-outdent" hidden$="[[!polyfillSafe]]"></hax-context-item-textop><hax-context-item-textop slot="primary" icon="editor:format-clear" label="Remove format" event-name="text-remove-format"></hax-context-item-textop><hax-context-item slot="primary" icon="device:graphic-eq" label="Advanced item" event-name="insert-inline-gizmo"></hax-context-item><hax-context-item-textop menu="" slot="more" icon="mdextra:unlink" event-name="text-unlink">Remove link</hax-context-item-textop><hax-context-item-textop menu="" slot="more" icon="mdextra:subscript" event-name="text-subscript">Subscript</hax-context-item-textop><hax-context-item-textop menu="" slot="more" icon="mdextra:superscript" event-name="text-superscript">Superscript</hax-context-item-textop><hax-context-item-textop menu="" slot="more" icon="editor:format-strikethrough" event-name="text-strikethrough">Cross out</hax-context-item-textop></hax-toolbar></template><script>Polymer({is:"hax-text-context",listeners:{"hax-context-item-selected":"_haxContextOperation"},properties:{justifyIcon:{type:String,value:"editor:format-align-left"},polyfillSafe:{type:Boolean},selectedValue:{type:String,value:"p",notify:!0},justifyValue:{type:String,value:"text-align-left",notify:!0},selection:{type:Boolean,value:!1}},ready:function ready(){this.polyfillSafe=Polymer.HaxStore.instance.computePolyfillSafe()},_haxContextOperation:function _haxContextOperation(e){var detail=e.detail,selection=window.getSelection();switch(detail.eventName){case"text-align-left":this.justifyIcon=detail.target.children[0].attributes[0].value;break;case"text-align-center":this.justifyIcon=detail.target.children[0].attributes[0].value;break;case"text-align-right":this.justifyIcon=detail.target.children[0].attributes[0].value;break;case"text-justify-full":this.justifyIcon=detail.target.children[0].attributes[0].value;break;case"close-menu":this.$.justify.$.menu.hideMenu();this.$.formatsize.$.menu.hideMenu();break;case"insert-inline-gizmo":var values={text:Polymer.HaxStore.instance.activePlaceHolder.toString()},type="inline",haxElements=Polymer.HaxStore.guessGizmo(type,values);if(0<haxElements.length){Polymer.HaxStore.instance.haxAppPicker.presentOptions(haxElements,type,"Transform selected text to..","gizmo")}break;case"text-bold":document.execCommand("bold");break;case"text-italic":document.execCommand("italic");break;case"text-underline":document.execCommand("underline");this.$.toolbar.$.moremenu.$.menu.hideMenu();break;case"text-subscript":document.execCommand("subscript");this.$.toolbar.$.moremenu.$.menu.hideMenu();break;case"text-superscript":document.execCommand("superscript");this.$.toolbar.$.moremenu.$.menu.hideMenu();break;case"text-remove-format":document.execCommand("removeFormat");break;case"text-strikethrough":document.execCommand("strikeThrough");this.$.toolbar.$.moremenu.$.menu.hideMenu();break;case"text-link":var href="";if(babelHelpers.typeof(selection.focusNode.parentNode.href)!=="undefined"){href=selection.focusNode.parentNode.href}var url=prompt("Enter a URL:",href);if(url){document.execCommand("createLink",!1,url)}break;case"text-unlink":document.execCommand("unlink");break;case"text-indent":document.execCommand("indent");break;case"text-outdent":document.execCommand("outdent");break;case"text-list-numbered":document.execCommand("insertOrderedList");break;case"text-list-bulleted":document.execCommand("insertUnorderedList");break;}},isSafari:function isSafari(){var ua=navigator.userAgent.toLowerCase();if(-1!=ua.indexOf("safari")){if(!(-1<ua.indexOf("chrome"))){return!0}}return!1}});</script></dom-module></body></html>