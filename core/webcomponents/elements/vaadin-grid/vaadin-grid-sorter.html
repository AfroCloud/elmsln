<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="vaadin-grid-cell-click-behavior.html"><style>@font-face{font-family:'vaadin-grid-sorter-icons';src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAQwAA0AAAAABuwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAEFAAAABkAAAAcfep+mUdERUYAAAP4AAAAHAAAAB4AJwAOT1MvMgAAAZgAAAA/AAAAYA8TBPpjbWFwAAAB7AAAAFUAAAFeF1fZ4mdhc3AAAAPwAAAACAAAAAgAAAAQZ2x5ZgAAAlgAAABcAAAAnMvguMloZWFkAAABMAAAAC8AAAA2C5Ap72hoZWEAAAFgAAAAHQAAACQGbQPHaG10eAAAAdgAAAAUAAAAHAoAAABsb2NhAAACRAAAABIAAAASAIwAYG1heHAAAAGAAAAAFgAAACAACwAKbmFtZQAAArQAAAECAAACZxWCgKhwb3N0AAADuAAAADUAAABZCrApUXicY2BkYGAA4rDECVrx/DZfGbhZGEDgyqNPOxH0/wNMq5kPALkcDEwgUQBWRA0dAHicY2BkYGA+8P8AAwMLAwgwrWZgZEAFbABY4QM8AAAAeJxjYGRgYOAAQiYGEICQSAAAAi8AFgAAeJxjYGY6yziBgZWBgWkm0xkGBoZ+CM34msGYkZMBFTAKoAkwODAwvmRiPvD/AIMDMxCD1CDJKjAwAgBktQsXAHicY2GAAMZQCM0EwqshbAALxAEKeJxjYGBgZoBgGQZGBhCIAPIYwXwWBhsgzcXAwcAEhIwMCi+Z/v/9/x+sSuElA4T9/4k4K1gHFwMMMILMY2QDYmaoABOQYGJABUA7WBiGNwAAJd4NIQAAAAAAAAAACAAIABAAGAAmAEAATgAAeJyNjLENgDAMBP9tIURJwQCMQccSZgk2i5fIYBDAidJjycXr7x5EPwE2wY8si7jmyBNXGo/bNBerxJNrpxhbO3/fEFpx8ZICpV+ghxJ74fAMe+h7Ox14AbrsHB14nK2QQWrDMBRER4mTkhQK3ZRQKOgCNk7oGQqhhEIX2WSlWEI1BAlkJ5CDdNsj5Ey9Rncdi38ES+jzNJo/HwTgATcoDEthhY3wBHc4CE+pfwsX5F/hGe7Vo/AcK/UhvMSz+mGXKhZU6pww8ISz3oWn1BvhgnwTnuEJf8Jz1OpFeIlX9YULDLdFi4ASHolkSR0iuYdjLak1vAequBhj21D61Nqyi6l3qWybGPjySbPHGScGJl6dP58MYcQRI0bts7mjebBqrFENH7t3qWtj0OuqHnXcW7b0HOTZFnKryRGW2hFX1m0O2vEM3opNMfTau+CS6Z3Vx6veNnEXY6jwDxhsc2gAAHicY2BiwA84GBgYmRiYGJkZmBlZGFkZ2djScyoLMgzZS/MyDQwMwLSrpYEBlIbxjQDrzgsuAAAAAAEAAf//AA94nGNgZGBg4AFiMSBmYmAEQnYgZgHzGAAD6wA2eJxjYGBgZACCKyoz1cD0o087YTQATOcIewAAAA==) format('woff');font-weight:normal;font-style:normal;}</style><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"></head><body><dom-module id="vaadin-grid-sorter"><template><style>:host{position:relative;display:inline-flex;justify-content:space-between;align-items:center;cursor:pointer;}#indicators{position:relative;}#order{position:absolute;right:0;top:0;transform:translateY(-6px) scale(0.7);@apply (--vaadin-grid-sorter-order);}#indicators::before{font-family:'vaadin-grid-sorter-icons';display:block;padding:0 10px;@apply (--vaadin-grid-sorter-arrow);}:host(:not([direction])) #indicators::before{content:"\e901";opacity:0.2;}:host([direction=asc]) #indicators::before{content:"\e900";}:host([direction=desc]) #indicators::before{content:"\e902";}#announcer{position:absolute;z-index:-1;clip:rect(0, 0, 0, 0);text-transform:none;}#content{display:inline-block;overflow:hidden;text-overflow:ellipsis;flex:1;}</style><div id="content" on-focus="_onContentFocus"><slot></slot></div><div id="announcer" aria-hidden="true"><div>[[_getAriaLabel(direction, _order)]]</div></div><div id="indicators" aria-hidden="true" on-focus="_onContentFocus"><div id="order">[[_getDisplayOrder(_order)]]</div></div></template><script>Polymer({is:"vaadin-grid-sorter",properties:{path:String,direction:{type:String,reflectToAttribute:!0,notify:!0,value:null},_order:{type:Number,value:null},_cellHasFocus:{type:Boolean,value:!1},_boundOnCellContentFocusin:{type:Function,value:function value(){return this._onCellContentFocusin.bind(this)}},_boundOnCellContentFocusout:{type:Function,value:function value(){return this._onCellContentFocusout.bind(this)}}},observers:["_pathOrDirectionChanged(path, direction, isAttached)","_directionOrOrderChanged(direction, _order)","_cellHasFocusChanged(_cellHasFocus)"],behaviors:[vaadin.elements.grid.CellClickBehavior],attached:function attached(){this._cellContent=this._getClosestCellContent();if(this._cellContent){this._cellContent.addEventListener("cell-focusin",this._boundOnCellContentFocusin);this._cellContent.addEventListener("cell-focusout",this._boundOnCellContentFocusout)}},detached:function detached(){if(this._cellContent){this._cellContent.removeEventListener("cell-focusin",this._boundOnCellContentFocusin);this._cellContent.removeEventListener("cell-focusout",this._boundOnCellContentFocusout);this._cellContent=void 0}},_onContentFocus:function _onContentFocus(){var grid=this;while("vaadin-grid"!==grid.localName){grid=Polymer.dom(grid).parentNode}var thisCell=grid.$.scroller._getCellByCellContent(this);if("vaadin-grid-table-footer-cell"===thisCell.is){grid.$.scroller._virtualFocus=grid.$.scroller.$.footer}else{grid.$.scroller._virtualFocus=grid.$.scroller.$.header}grid.$.scroller.interacting=!1;grid.focus()},_getClosestCellContent:function _getClosestCellContent(){var el=this;while(el=Polymer.dom(el).parentNode){if("vaadin-grid"===el.is||el===document.body){return null}if("vaadin-grid-cell-content"===el.localName){return el}}},_onCellContentFocusin:function _onCellContentFocusin(){this._cellHasFocus=!0},_onCellContentFocusout:function _onCellContentFocusout(){this._cellHasFocus=!1},_pathOrDirectionChanged:function _pathOrDirectionChanged(path,direction,isAttached){if(path===void 0||direction===void 0||isAttached===void 0){return}if(isAttached){this.fire("sorter-changed")}},_getDisplayOrder:function _getDisplayOrder(order){return null===order?"":order+1},_cellClick:function _cellClick(e){e.preventDefault();if("asc"===this.direction){this.direction="desc"}else if("desc"===this.direction){this.direction=null}else{this.direction="asc"}},_getAriaLabel:function _getAriaLabel(direction,order){if(direction){var label="Sorted ";label+="asc"===direction?"ascending":"descending";label+=null===order?". ":", Order "+(order+1)+".";return label}else{return"Unsorted."}},_directionOrOrderChanged:function _directionOrOrderChanged(direction,order){if(direction===void 0||order===void 0){return}this.debounce("direction-announce",function(){this.fire("iron-announce",{text:this._getAriaLabel(direction,order)})},1);var isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(isSafari&&this.root){this.root.querySelectorAll("*").forEach(function(el){el.style["-webkit-backface-visibility"]="visible";el.style["-webkit-backface-visibility"]=""})}},_cellHasFocusChanged:function _cellHasFocusChanged(cellHasFocus){if(cellHasFocus){this.$.announcer.setAttribute("aria-hidden","false")}else{this.async(function(){this.$.announcer.setAttribute("aria-hidden","true")},1)}}});</script></dom-module></body></html>