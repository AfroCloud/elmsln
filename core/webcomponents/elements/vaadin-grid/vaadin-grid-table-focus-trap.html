<html><head><link rel="import" href="../polymer/polymer.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"></head><body><dom-module id="vaadin-grid-table-focus-trap"><template><style>:host{position:absolute;z-index:-3;height:0;overflow:hidden;}:host(:focus),
     .primary:focus,
     ::slotted(.primary:focus),
     .secondary:focus,
     ::slotted(.secondary:focus){outline:none;}</style><div class="primary" tabindex="0" role="gridcell" on-focus="_onBaitFocus" on-blur="_onBaitBlur"><div aria-hidden="true">&nbsp;</div></div><div class="secondary" tabindex="-1" role="gridcell" on-focus="_onBaitFocus" on-blur="_onBaitBlur"><div aria-hidden="true">&nbsp;</div></div><slot></slot></template><script>Polymer({is:"vaadin-grid-table-focus-trap",hostAttributes:{role:"gridcell"},properties:{activeTarget:{type:String,observer:"_activeTargetChanged"}},ready:function ready(){this._primary=Polymer.dom(this.root).querySelector(".primary");this._secondary=Polymer.dom(this.root).querySelector(".secondary");if(Polymer.Settings.useNativeShadow||Polymer.Settings.useShadow){Polymer.dom(this).appendChild(this._secondary);Polymer.dom(this).appendChild(this._primary)}},focus:function focus(){if(this._focused!==this._primary){this._primary.focus()}else{this._secondary.focus()}},_onBaitFocus:function _onBaitFocus(e){this._focused=e.target;if(!this._movingFocusInternally){this.fire("focus-gained");this._primary.tabIndex=-1}},_onBaitBlur:function _onBaitBlur(){if(!this._movingFocusInternally){this.fire("focus-lost");this._primary.tabIndex=0}},_activeTargetChanged:function _activeTargetChanged(target){this._movingFocusInternally=!0;if(this._focused===this._primary){this._secondary.setAttribute("aria-labelledby",target);this._secondary.focus()}else{this._primary.setAttribute("aria-labelledby",target);this._primary.focus()}this._movingFocusInternally=!1},_reannounce:function _reannounce(){this._movingFocusInternally=!0;if(this._focused===this._primary){this._secondary.setAttribute("aria-labelledby",this.activeTarget);this._secondary.focus()}else{this._primary.setAttribute("aria-labelledby",this.activeTarget);this._primary.focus()}this._movingFocusInternally=!1}});</script></dom-module></body></html>