<html><head><link rel="import" href="vaadin-grid-table-cell.html"><link rel="prefetch" href="../polymer/polymer.html"><link rel="prefetch" href="../polymer/polymer-mini.html"><link rel="prefetch" href="../polymer/polymer-micro.html"><link rel="prefetch" href="vaadin-grid-cell-click-behavior.html"></head><body><dom-module id="vaadin-grid-table-row"></dom-module><dom-module id="vaadin-grid-table-header-row"></dom-module><script>(function(){var vaadinGridTableRowBehavior={properties:{active:{type:Boolean,reflectToAttribute:!0,value:!1},columns:Array,index:Number,cells:{value:[]},target:Object,expanded:{value:!1},focused:{type:Boolean,reflectToAttribute:!0},item:Object,selected:{reflectToAttribute:!0},_rowDetailsCell:Object,rowDetailsTemplate:Object},observers:["_columnsChanged(columns, target)","_indexChanged(index, cells)","_itemChanged(item, cells)","_itemChangedForDetails(item, _rowDetailsCell)","_rowDetailsChanged(expanded, rowDetailsTemplate, target)","_rowDetailsCellIndexChanged(_rowDetailsCell, index)","_rowDetailsCellChanged(_rowDetailsCell, target)","_selectedChanged(selected, cells)","_selectedChangedForDetails(selected, _rowDetailsCell)"],ready:function ready(){this.classList.add("vaadin-grid-row");if(!1===Polymer.Settings.useShadow){this.classList.add("style-scope");this.classList.add("vaadin-grid")}},iterateCells:function iterateCells(callback){this.cells.forEach(callback);if(this._rowDetailsCell){callback(this._rowDetailsCell)}},_rowDetailsChanged:function _rowDetailsChanged(expanded,rowDetailsTemplate,target){if(expanded===void 0||rowDetailsTemplate===void 0||target===void 0){return}if(expanded){var rowDetailsCell=document.createElement("vaadin-grid-table-cell");rowDetailsCell.setAttribute("detailscell",!0);rowDetailsCell.frozen=!0;rowDetailsCell.target=target;rowDetailsCell.template=rowDetailsTemplate;rowDetailsCell.toggleAttribute("lastcolumn",!0);Polymer.dom(this.root).appendChild(rowDetailsCell);Polymer.dom.flush();this._rowDetailsCell=rowDetailsCell}else{if(this._rowDetailsCell){Polymer.dom(this.root).removeChild(this._rowDetailsCell);this._rowDetailsCell=null}}this.iterateCells(function(cell){cell.expanded=expanded});this.target.$.scroller._frozenCellsChanged()},_updateRowVisibility:function _updateRowVisibility(){this.hidden=this.cells.every(function(cell){return cell._isEmpty})},_rowDetailsCellChanged:function _rowDetailsCellChanged(_rowDetailsCell,target){if(_rowDetailsCell===void 0||target===void 0){return}target.$.scroller._update()},_rowDetailsCellIndexChanged:function _rowDetailsCellIndexChanged(_rowDetailsCell,index){if(_rowDetailsCell===void 0||index===void 0){return}if(_rowDetailsCell){_rowDetailsCell.index=index;Polymer.dom.flush();this.updateRowDetailsCellMetrics()}else{this.style.paddingBottom=""}},updateRowDetailsCellMetrics:function updateRowDetailsCellMetrics(){if(this._rowDetailsCell){if(this.target&&this.target._observer&&this.target._observer.flush){this.target._observer.flush()}this._rowDetailsCell.style.height="";this.style.paddingBottom=this._rowDetailsCell.style.height=this._rowDetailsCell.clientHeight+"px"}},_columnsChanged:function _columnsChanged(columns,target){if(columns===void 0||target===void 0){return}Polymer.dom(this).innerHTML="";var cells=[];columns.forEach(function(column){var cacheName="_"+this.is.replace(/-/g,"_")+"_cells",cache=column[cacheName]=column[cacheName]||[],cell=cache.filter(function(cell){return!Polymer.dom(cell).parentNode})[0];if(!cell){cell=this._createCell();var disableCache=Array.prototype.some.call(this.target.querySelectorAll("dom-repeat"),function(domRepeat){return!domRepeat.restamp});disableCache=disableCache||"vaadin-grid-table-header-row"===this.is||"vaadin-grid-table-footer-row"===this.is;if(!disableCache){cache.push(cell)}}cell.index=this.index;cell.target=this.target;cell._isColumnRow=this._isColumnRow;cell.column=column;cell.expanded=this.expanded;Polymer.dom(this).appendChild(cell);cells.push(cell)}.bind(this));this.cells=cells},_indexChanged:function _indexChanged(index,cells){if(index===void 0||cells===void 0){return}cells.forEach(function(cell){cell.index=index})},_itemChanged:function _itemChanged(item,cells){if(item===void 0||cells===void 0){return}cells.forEach(function(cell){cell.item=item})},_itemChangedForDetails:function _itemChangedForDetails(item,rowDetails){if(item===void 0||rowDetails===void 0){return}if(rowDetails){rowDetails.item=item}},_selectedChanged:function _selectedChanged(selected,cells){if(selected===void 0||cells===void 0){return}cells.forEach(function(cell){cell.selected=selected})},_selectedChangedForDetails:function _selectedChangedForDetails(selected,rowDetails){if(selected===void 0||rowDetails===void 0){return}if(rowDetails){rowDetails.selected=selected}},updateLastColumn:function updateLastColumn(){this.cells.slice(0).sort(function(a,b){return a.column._order-b.column._order}).forEach(function(cell,cellIndex,children){cell.toggleAttribute("lastcolumn",cellIndex===children.length-1)})}};Polymer({is:"vaadin-grid-table-row",behaviors:[vaadinGridTableRowBehavior],_createCell:function _createCell(){return document.createElement("vaadin-grid-table-cell")}});Polymer({is:"vaadin-grid-table-header-row",behaviors:[vaadinGridTableRowBehavior],observers:["_updateRowVisibility(columns)"],listeners:{"cell-empty-changed":"_updateRowVisibility"},_createCell:function _createCell(){return document.createElement("vaadin-grid-table-header-cell")}});Polymer({is:"vaadin-grid-table-footer-row",behaviors:[vaadinGridTableRowBehavior],observers:["_updateRowVisibility(columns)"],listeners:{"cell-empty-changed":"_updateRowVisibility"},_createCell:function _createCell(){return document.createElement("vaadin-grid-table-footer-cell")}})})();</script></body></html>